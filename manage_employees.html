<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="admin-body">
    <nav class="sidebar">
        <div class="sidebar-header"><h1>IT Asset</h1></div>
        <ul class="sidebar-menu">
            <li><a href="index.html">Dashboard</a></li>
            <li><a href="manage_employees.html" class="active">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</a></li>
            <li><a href="manage_computers.html">‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</a></li>
            <li><a href="manage_printers.html">‡∏õ‡∏£‡∏¥‡πâ‡∏ô‡πÄ‡∏ï‡∏≠‡∏£‡πå</a></li>
            <li><a href="view_logs.html">Log</a></li>
        </ul>
    </nav>
    <div class="main-wrapper">
        <main class="content-area">
            <div class="button-group">
                <button onclick="openEmployeeModal('create')" class="btn-create">+ ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà</button>
            </div>
            <div class="table-container-card">
                <table class="summary-table">
                    <thead>
                        <tr>
                            <th>‡∏£‡∏´‡∏±‡∏™</th>
                            <th>‡∏ä‡∏∑‡πà‡∏≠</th>
                            <th>‡πÅ‡∏ú‡∏ô‡∏Å</th>
                            <th>‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</th>
                            <th>‡∏õ‡∏£‡∏¥‡πâ‡∏ô‡πÄ‡∏ï‡∏≠‡∏£‡πå</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="employeeListBody"></tbody>
                </table>
            </div>
        </main>
    </div>

    <div id="modalBackdrop">
        <div id="dataModal">
            <h3>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h3>
            <form id="employeeForm">
                <input type="hidden" id="formMode">
                <input type="hidden" id="editEmployeeId">
                <input type="hidden" id="oldComputerId">
                <input type="hidden" id="oldPrinterId">

                <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px;">
                    <div><label>‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô:</label><input type="text" id="formEmployeeId"></div>
                    <div><label>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•:</label><input type="text" id="formName"></div>
                </div>
                
                <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px;">
                    <div><label>‡πÅ‡∏ú‡∏ô‡∏Å:</label><input type="text" id="formDepartment"></div>
                    <div><label>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:</label><input type="text" id="formPosition"></div>
                </div>

                <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px;">
                    <div><label>Email:</label><input type="text" id="formEmail"></div>
                    <div><label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£:</label><input type="text" id="formDeskPhone"></div>
                </div>
                
                <hr>
                <h4 style="margin: 10px 0; color:#1a237e;">üíª ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏™‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏∑‡∏≠‡∏Ñ‡∏£‡∏≠‡∏á</h4>
                <div style="background:#f8f9fa; padding:15px; border-radius:8px;">
                    <label>‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå:</label>
                    <select id="formComputer" style="margin-bottom:10px;"></select>
                    
                    <label>‡∏õ‡∏£‡∏¥‡πâ‡∏ô‡πÄ‡∏ï‡∏≠‡∏£‡πå:</label>
                    <select id="formPrinter"></select>
                </div>

                <div class="modal-buttons">
                    <button type="button" onclick="handleEmployeeSubmit()" class="btn-create">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
                    <button type="button" onclick="closeModal()" class="btn-cancel">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="config.js"></script> <script src="manage_employees.js"></script>
</body>
</html>
