<!DOCTYPE html><html lang="th"><head><meta charset="UTF-8"><title>แจ้งซ่อม</title><link rel="stylesheet" href="style.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"></head><body class="admin-body">
    <nav class="sidebar"><div class="sidebar-header"><h1>IT Asset Pro</h1></div><ul class="sidebar-menu"><li><a href="index.html">Dashboard</a></li><li><a href="manage_employees.html">พนักงาน</a></li><li><a href="manage_computers.html">คอมพิวเตอร์</a></li><li><a href="manage_printers.html">ปริ้นเตอร์</a></li><li><a href="helpdesk.html" class="active">แจ้งซ่อม</a></li><li><a href="view_logs.html">Log</a></li></ul></nav>
    <div class="main-wrapper"><main class="content-area">
        <div class="asset-toolbar">
            <h2 style="margin:0; color:#0f172a;">รายการแจ้งซ่อม (Tickets)</h2>
            <button onclick="openTicketModal()" class="btn-action btn-primary"><i class="fas fa-plus"></i> แจ้งปัญหาใหม่</button>
        </div>
        <div class="table-container-card"><table class="summary-table"><thead><tr><th>วันที่</th><th>หัวข้อ</th><th>เครื่อง</th><th>ผู้แจ้ง</th><th>สถานะ</th><th>จัดการ</th></tr></thead><tbody id="ticketList"></tbody></table></div>
    </main></div>

    <div id="ticketModal" style="display:none; position:fixed; z-index:1001; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5);">
        <div style="background:white; width:500px; margin:5% auto; padding:30px; border-radius:16px;">
            <h3 style="margin-top:0;">แจ้งปัญหาการใช้งาน</h3>
            <label>หัวข้อปัญหา:</label><input type="text" id="tkTitle" placeholder="เช่น เครื่องเปิดไม่ติด, เมาส์พัง">
            <label>รหัสเครื่อง (ถ้ามี):</label><input type="text" id="tkDevice" placeholder="COM-IT-xx">
            <label>ผู้แจ้ง:</label><input type="text" id="tkReporter" placeholder="ชื่อพนักงาน">
            <label>รายละเอียด:</label><textarea id="tkDesc" rows="4"></textarea>
            <div style="text-align:right;"><button onclick="closeModal()" class="btn-action btn-outline">ยกเลิก</button> <button onclick="createTicket()" class="btn-action btn-primary">ส่งเรื่อง</button></div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script><script src="config.js"></script><script src="helpdesk.js"></script>
</body></html>