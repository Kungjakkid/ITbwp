<!DOCTYPE html><html lang="th"><head><meta charset="UTF-8"><title>จัดการคอมพิวเตอร์</title><link rel="stylesheet" href="style.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"></head><body>
    <nav class="sidebar"><div class="sidebar-header"><h1><i class="fas fa-cube"></i> IT ASSET</h1></div><ul class="sidebar-menu"><li><a href="index.html"><i class="fas fa-chart-pie"></i> ภาพรวม</a></li><li><a href="manage_employees.html"><i class="fas fa-users"></i> พนักงาน</a></li><li><a href="manage_computers.html" class="active"><i class="fas fa-laptop"></i> คอมพิวเตอร์</a></li><li><a href="manage_printers.html"><i class="fas fa-print"></i> ปริ้นเตอร์</a></li><li><a href="view_logs.html"><i class="fas fa-history"></i> ประวัติ Log</a></li></ul></nav>
    <div class="main-wrapper"><main class="content-area">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; background:white; padding:20px; border-radius:12px; box-shadow:0 2px 5px rgba(0,0,0,0.05);">
            <div><h2 style="color:#1e293b;">ทะเบียนคอมพิวเตอร์</h2><p style="color:#64748b; font-size:0.9rem;">ทั้งหมด <span id="totalCount" style="font-weight:700; color:#4f46e5;">...</span> เครื่อง</p></div>
            <div style="display:flex; gap:10px;">
                <input type="text" id="searchInput" placeholder="ค้นหา..." onkeyup="filterAssets()" style="margin:0; width:200px;">
                <button onclick="openCreateModal()" class="btn btn-primary"><i class="fas fa-plus"></i> เพิ่ม</button>
            </div>
        </div>
        <div id="assetGrid" class="asset-grid"></div>
    </main></div>

    <div id="detailModal">
        <div class="modal-card">
            <div class="modal-header">
                <div style="display:flex; align-items:center; gap:15px;">
                    <div style="width:40px; height:40px; background:#f1f5f9; border-radius:8px; display:flex; align-items:center; justify-content:center; color:#4f46e5; font-size:1.2rem;"><i class="fas fa-desktop"></i></div>
                    <div><h3 id="viewId" style="margin:0; color:#1e293b;">...</h3><span id="viewTypeHeader" style="color:#64748b; font-size:0.9rem;">...</span></div>
                </div>
                <button onclick="closeDetailModal()" class="btn btn-outline" style="border:none;"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <div class="col-left">
                    <div class="form-group"><label>สถานะ</label><div id="viewStatusBadge"></div></div>
                    <div class="form-group"><label>ประเภท</label><select id="editType"><option>Notebook</option><option>PC</option><option>All-in-One</option><option>Monitor</option></select></div>
                    <div class="form-group"><label>สเปค</label><input type="text" id="editSpec"></div>
                    <div class="form-group"><label>ผู้ถือครอง</label><div style="display:flex; gap:5px;"><select id="editOwner"></select><button onclick="document.getElementById('editOwner').value=''" class="btn btn-outline"><i class="fas fa-eraser"></i></button></div></div>
                    <div class="form-group"><label>หมายเหตุ</label><textarea id="editRemark" rows="2"></textarea></div>
                    <div style="margin-top:20px; display:flex; gap:10px;"><button onclick="saveChanges()" class="btn btn-primary" style="flex:1;">บันทึก</button><button onclick="deleteCurrentAsset()" class="btn btn-danger"><i class="fas fa-trash"></i></button></div>
                </div>
                <div class="col-right">
                    <h4 style="margin-bottom:15px; color:#334155;">ประวัติการซ่อม</h4>
                    <div id="repairTimeline" class="timeline-container"></div>
                    <div style="display:flex; gap:10px; margin-top:15px; border-top:1px solid #e2e8f0; padding-top:10px;"><input type="text" id="newLogInput" placeholder="บันทึก..." style="margin:0;"><button onclick="addLog()" class="btn btn-success"><i class="fas fa-paper-plane"></i></button></div>
                </div>
            </div>
        </div>
    </div>

    <div id="createModal"><div class="modal-card" style="max-width:500px; height:auto; margin:10% auto;"><div class="modal-header"><h3>เพิ่มเครื่องใหม่</h3></div><div style="padding:30px;"><div class="form-group"><label>รหัส</label><input type="text" id="newId"></div><div class="form-group"><label>ประเภท</label><select id="newType"><option>Notebook</option><option>PC</option><option>All-in-One</option></select></div><div class="form-group"><label>สเปค</label><input type="text" id="newSpec"></div><div style="display:flex; justify-content:flex-end; gap:10px; margin-top:20px;"><button onclick="document.getElementById('createModal').style.display='none'" class="btn btn-outline">ยกเลิก</button><button onclick="createNewAsset()" class="btn btn-primary">สร้าง</button></div></div></div></div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script><script src="config.js"></script><script src="manage_computers.js"></script>
</body></html>